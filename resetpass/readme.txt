Программа на PHP для сброса паролей пользователей при подключении к Windows Server по протоколу LDAPS.

Важно: при соединении с AD по протоколу LDAP (порт 389) не работает функция php для смены пароля пользователю AD. Решением является переход на SSL-версию протокола — LDAPS (порт 636).

На сервере, где будет развёрнут сервис для сброса пароля. В качестве примера, взята РЕД ОС, на которой установлены следующие компоненты:
- nginx
- php php-fpm php-ldap
- libldap libldap-common ldap-utils

Для корректной работы LDAPS можно сделать следующее:
1) Импортировать корневой сертификат LDAP сервера и внести в ldap.conf следующую строку: TLS_CACERT     /etc/ssl/certs/ca-certificates.crt
2) Игнорировать требования сертификата: TLS_REQCERT never